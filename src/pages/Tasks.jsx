import { Link } from "react-router-dom";
import Navbar from "/src/components/Navbar";

import { useState } from "react";

export default function Tasks()  {
  // Механіка
  const [topicMech, setTopicMech] = useState("");
  const [taskMech, setTaskMech] = useState("");

  // МКТ + Термодинаміка
  const [topicMKT, setTopicMKT] = useState("");
  const [taskMKT, setTaskMKT] = useState("");

  const tasksDB = {
    kinematics: [
      "Автомобіль рухається зі швидкістю 72 км/год. Яку відстань він пройде за 15 хв?",
      "Тіло рухається з прискоренням 3 м/с². Яка його швидкість через 6 секунд?",
      "М'яч кинули вертикально вгору зі швидкістю 10 м/с. Якої висоти він досягне?",
      "Автомобіль рухається рівномірно зі швидкістю 72 км/год. Яку відстань він подолає за 25 хвилин?",
      "Тіло починає рух із стану спокою та рухається з прискоренням 2 м/с². Яку швидкість тіло матиме через 15 секунд? Яку відстань воно подолає за цей час?"
    ],
    dynamics: [
      "На тіло масою 4 кг діє сила 12 Н. Знайти прискорення.",
      "Яку силу треба прикласти, щоб тіло масою 8 кг отримало прискорення 0.5 м/с²?",
      "Тіло рухається рівноприскорено. Яка сила діє, якщо маса 3 кг, а прискорення 4 м/с²?",
      "На тіло масою 8 кг діє рівнодійна сила 24 Н. Знайти прискорення тіла.",
      "Брусок масою 5 кг ковзає горизонтальною поверхнею з прискоренням 1,2 м/с². Сила тяги — 20 Н. Знайти коефіцієнт тертя ковзання."
    ],
    conservation: [
      "Тіло масою 2 кг рухається зі швидкістю 5 м/с. Знайти кінетичну енергію.",
      "З якої висоти падало тіло, якщо при ударі швидкість становила 14 м/с?",
      "Тіло спустилося з висоти 10 м без тертя. Якою буде його швидкість внизу?",
      "Камінь кидають вертикально вгору зі швидкістю 20 м/с. Опором повітря знехтувати. На яку висоту підніметься камінь?",
      "Кулька масою 0,2 кг рухалась зі швидкістю 6 м/с і абсолютно пружно вдарилась об кульку масою 0,4 кг, яка була спочатку нерухома. Знайти швидкості обох кульок після удару."
    ],
    oscillations: [
      "Маса на пружині коливається з періодом 1.5 с. Знайти частоту.",
      "Маятник довжиною 1 м. Який період його коливань?",
      "Пружина має жорсткість 150 Н/м. Масу 0.4 кг підвісили. Частота коливань?",
      "Пружинний маятник масою 0,5 кг має жорсткість пружини 200 Н/м. Знайти період коливань.",
      "Довжина математичного маятника — 1 м. Знайти період коливань маятника."
    ],
    waves: [
      "Хвиля рухається зі швидкістю 300 м/с і має частоту 100 Гц. Знайти довжину хвилі.",
      "Джерело створює хвилі частотою 40 Гц. Довжина хвилі – 2 м. Знайти швидкість.",
      "Хвиля проходить 600 м за 3 секунди. Знайти швидкість.",
      "Довжина хвилі — 0,5 м, частота — 4 Гц. Знайти швидкість поширення хвилі.",
      "Дві хвилі мають однакову частоту 5 Гц та амплітуди 2 см. Хвилі збігаються у фазі. Яка амплітуда результативної хвилі?"
    ],
    mkt: [
      "У закритій посудині об’ємом 3 л міститься 0,25 моль кисню.Знайди концентрацію молекул у газі.",
      "Обчисли середню квадратичну швидкість молекул гелію за температури 400 K. Молярна маса гелію — 0,004 кг/моль.",
      "Знайди середню кінетичну енергію поступального руху молекули азоту за температури 500 K.",
      "У кубічній посудині об’ємом 0,02 м³ знаходиться 4⋅10^23 молекул повітря. Середня квадратична швидкість молекул дорівнює 500 м/с 500 м/с. Обчисли тиск газу.",
      "У закритому циліндрі газ має тиск 150 кПа за температури 300 K. Яким стане тиск, якщо температуру підвищити до 450 K, об’єм не змінюється?"
    ],
    thermalProcesses: [
      "У алюмінієвому блоці масою 2 кг підвищили температуру з 20 °C до 80 °C. Скільки кількості теплоти він отримав? (Питома теплоємність алюмінію візьми з довідника.)",
      "У чайник налили 1,5 кг води температурою 20 °C і поставили нагріватися. Електричний нагрівач передав воді 189 кДж енергії. Якої температури досягла вода? (тепловими втратами знехтувати)",
      "Кусок льоду масою 500 г при температурі 0 °C повністю розтопили. Скільки кількості теплоти було витрачено на плавлення льоду? (Питома теплота плавлення льоду — з довідника.)",
      "Скільки часу буде кипіти вода масою 1 кг, якщо електричний чайник потужністю 1,5 кВт витрачає всю енергію на пароутворення? (Початково вода вже має температуру 100 °C.)",
      "У калориметрі змішали 200 г води температурою 20 °C та 100 г води температурою 80 °C. Яка встановиться температура суміші? (тепловими втратами знехтувати)"
    ],
    idealGas: [
      "Газ при температурі, що не змінюється, має тиск 200 кПа і займає об’єм 4 л. До якого об’єму зміниться газ, якщо тиск зменшиться до 150 кПа?",
      "Об’єм газу при температурі 300 K становив 2,5 л. Яким буде об’єм цього газу при температурі 450 K, якщо тиск не змінюється?",
      "Тиск газу при температурі 20 °C дорівнює 100 кПа. Яким буде тиск газу при температурі 120 °C, якщо об’єм залишається сталим?",
      "У балоні міститься 0,5 моль газу при температурі 300 K. Об’єм газу — 3 л. Знайди тиск газу.",
      "Суміш складається з 24 г кисню (O₂) та 16 г метану (CH₄). Знайти молярні частки кожного газу в суміші."
    ],
    firstLow: [
      "Газ отримав 500 Дж теплоти і при цьому виконав роботу 120 Дж. Визначити, на скільки змінилася внутрішня енергія газу.",
      "При стисненні газу над ним виконали роботу 300 Дж. Унаслідок цього внутрішня енергія газу збільшилася на 180 Дж. Скільки теплоти передали газу? (пам’ятаємо: робота над газом → A < 0)",
      "Газ нагріли при сталому об’ємі, передавши йому 250 Дж теплоти. Яка зміна внутрішньої енергії газу? Яку роботу виконав газ?",
      "Газ віддав у довкілля 400 Дж теплоти та виконав роботу 150 Дж. Визначити зміну внутрішньої енергії. (теплота віддається → Q < 0)",
      "Під час ізотермічного розширення газ виконав роботу 200 Дж. Яку кількість теплоти отримав газ? Яка зміна внутрішньої енергії газу? (у ізотермі: ΔU = 0)"
    ],
    thermodynamicProcesses: [
      "Газу при сталому об’ємі передали 300 Дж теплоти. Температура збільшилася від 300 К до 360 К. Визначити роботу газу та зміну внутрішньої енергії.",
      "Під час нагрівання газу при сталому тиску його об’єм збільшився від 2 л до 5 л. Тиск газу становив 100 кПа. Визначити роботу газу в цьому процесі.",
      "Газ розширюється ізотермічно від об’єму 1 л до 3 л. Початковий тиск — 150 кПа. Визначити кінцевий тиск газу.",
      "Унаслідок адіабатичного розширення газ виконав роботу 250 Дж. На скільки змінилася внутрішня енергія газу? (адіабатичний → ΔU = −A)",
      "Газ спочатку нагріли при сталому об’ємі, передавши 200 Дж теплоти. Потім газ розширили при сталому тиску, і він виконав роботу 120 Дж. Знайти повну зміну внутрішньої енергії газу за весь процес."
    ],
    heatEngines: [
      "Тепловий двигун отримує від нагрівника 6000 Дж теплоти і виконує 1500 Дж роботи. Визначити ККД двигуна.",
      "Тепловий двигун має ККД 30%. За один цикл він отримує від нагрівника 5000 Дж. Скільки теплоти двигун передає холодильнику?",
      "Двигун за один цикл отримує від нагрівника 800 Дж теплоти і має ККД 25%. Двигун виконує 300 циклів за хвилину. Яку роботу він виконує за 1 хвилину?",
      "Під час роботи тепловий двигун передає холодильнику 9000 Дж теплоти і виконує 4500 Дж роботи. Визначити ККД двигуна.",
      "Перший двигун отримує 10 кДж теплоти та має ККД 20%. Другий отримує 8 кДж теплоти та має ККД 30%. Який двигун виконує більшу роботу? На скільки джоулів більше?"
    ]
  };

  function generateTaskMech() {
    if (!topicMech) {
      setTaskMech("Оберіть тему, будь ласка.");
      return;
    }
    const list = tasksDB[topicMech];
    const randomIndex = Math.floor(Math.random() * list.length);
    setTaskMech(list[randomIndex]);
  }

  function generateTaskMKT() {
    if (!topicMKT) {
      setTaskMKT("Оберіть тему, будь ласка.");
      return;
    }
    const list = tasksDB[topicMKT];
    const randomIndex = Math.floor(Math.random() * list.length);
    setTaskMKT(list[randomIndex]);
  }

  return (
    <div className="min-h-screen bg-gray-300 p-4">
      
      <Navbar />

      <h1 className="text-left text-blue-800 text-5xl font-bold w-full mb-8">Генератор задач</h1>

      <p className="text-gray-700 mb-6 text-lg">
        Оберіть тему з <b>"Механіки"</b> та натисніть кнопку, щоб отримати випадкову задачу.
      </p>

      {/* Вибір теми з МЕХАНІКИ*/}
      <div className="mb-4">
        <label className="font-semibold mb-2 block">Тема:</label>
        <select
          value={topicMech}
          onChange={(e) => setTopicMech(e.target.value)}
          className="border p-2 rounded w-full max-w-xs"
        >
          <option value="">-- Оберіть тему --</option>
          <option value="kinematics">Кінематика</option>
          <option value="dynamics">Динаміка</option>
          <option value="conservation">Закони збереження</option>
          <option value="oscillations">Коливання</option>
          <option value="waves">Хвилі</option>
        </select>
      </div>

      {/* Кнопка */}
      <button
        onClick={generateTaskMech}
        className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow"
      >
        Згенерувати задачу
      </button>

      {/* Вивід задачі */}
      {taskMech && (
        <div className="mt-6 p-4 bg-white rounded shadow max-w-2xl text-lg">
          <strong>Завдання:</strong>
          <p className="mt-2">{taskMech}</p>
        </div>
      )}

      {/* Вибір теми з МКТ та ТЕРМОДИНАМІКИ */}
      <p className="text-gray-700 mb-6 mt-6 text-lg">
        Оберіть тему з <b>"Молекулярної фізики та Термодинаміки"</b> та натисніть кнопку, щоб отримати випадкову задачу.
      </p>

      {/* Вибір теми */}
      <div className="mb-4">
        <label className="font-semibold mb-2 block">Тема:</label>
        <select
          value={topicMKT}
          onChange={(e) => setTopicMKT(e.target.value)}
          className="border p-2 rounded w-full max-w-xs"
        >
          <option value="">-- Оберіть тему --</option>
          <option value="mkt">Основи молекулярно-кінетичної теорії (МКТ)</option>
          <option value="idealGas">Ідеальний газ. Газові закони</option>
          <option value="thermalProcesses">Теплові процеси</option>
          <option value="firstLow">Перший закон термодинаміки</option>
          <option value="thermodynamicProcesses">Термодинамічні процеси</option>
          <option value="heatEngines">Теплові двигуни. ККД</option>
        </select>
      </div>

      <button
        onClick={generateTaskMKT}
        className="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 shadow"
      >
        Згенерувати задачу
      </button>

      {taskMKT && (
        <div className="mt-6 p-4 bg-white rounded shadow max-w-2xl text-lg">
          <strong>Завдання:</strong>
          <p className="mt-2">{taskMKT}</p>
        </div>
      )}

      
    </div>
  )
}